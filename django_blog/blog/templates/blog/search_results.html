{% extends "blog/base.html" %}

{% block content %}
    <h2 class="mb-4">Search Results for "{{ query }}"</h2>
    <hr>
    {% if posts %}
        <p>Found {{ posts.count }} post{{ posts|length|pluralize }} matching your query.</p>
        {% for post in posts %}
            <article class="media content-section">
                <div class="media-body">
                    <h2 class="article-title"><a href="{% url 'post-detail' post.id %}">{{ post.title }}</a></h2>
                    <p class="article-content">{{ post.content|truncatewords:50 }}</p>
                    <div class="article-metadata">
                        <small class="text-muted">By {{ post.author }} on {{ post.date_posted|date:"F d, Y" }}</small>
                        <div class="tags">
                            {% for tag in post.tags.all %}
                                <a class="btn btn-info btn-sm" href="#">#{{ tag.name }}</a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </article>
        {% endfor %}
    {% else %}
        <p>No posts found for your search query.</p>
    {% endif %}
{% endblock content %}